<!doctype html>
<html lang="en">

<head>
    <title>User Profile</title>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.0.0/firebase-ui-auth.css" />
    <script src="scripts/firebase_API.js"></script>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF" crossorigin="anonymous">

    <!-- Local styles -->
    <link rel="stylesheet" href="styles/common_styles.css">
    <link rel="stylesheet" href="styles/profile_styles.css">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>

<body>
    <main id="wrapper">
        <!--User image, name, edit info button.-->
        <section id="user_pic_block" class="bg-darker rounded">
            <img class="img-avatar img-thumbnail" src="https://dummyimage.com/256/256" alt="Profile Picture">
            <div>
                <fieldset id="nameField" disabled>
                    <input hidden id="nameInput" type="text" class="form-control">
                    <h1 class="text-light h3" id="nameText"></h1>
                </fieldset>
                <h4 id="emailText"></h4>
                <!-- <img id="editInfo" src="icons/edit-2.svg#icon" onclick="editProfile()" class="edit-icon" alt="Edit">   -->
                <img hidden id="saveInfo" src="icons/edit-2.svg#icon" onclick="saveProfile()" class="edit-icon"
                    alt="Save">
                <!-- <svg id="saveInfo" onclick="saveProfile()" class="edit-icon" aria-hidden="true" focusable="false">
                        <use xlink:href="icons/edit-2.svg#icon"></use>
                    </svg> -->
            </div>

        </section>

        <!--Bio Section.-->
        <section id="bio" class="bg-darker rounded py-3 my-2 text-light">
            <h1 class="h3">User Bio</h1>
            <fieldset id="bioField" disabled>
                <textarea hidden id="bioInput" class="form-control"></textarea>
                <p id="bioText"></p>
            </fieldset>
            <div class="d-flex justify-content-end">
                <button type="button" id="editBio" class="btn btn-secondary" onclick="editBio()">Edit</button>
                <button hidden id="saveBio" type="button" class="btn btn-info" onclick="saveBio()">Save</button>
                <span style="width: 10px"></span>
            </div>
        </section>

        <!--Contact info section (turn into calendar widget section?).-->

        <section id="contact_info" class="bg-darker rounded py-3 my-2 text-light">
            <!--<h1 class="h3">Contact Info</h1>
            <p>E-mail: tommylong@example.com</p>
            <p>Phone: +1-604-555-0905</p> -->

            <!--Small calendar for Profile-->
            <div id="calendar">
                <table width=100%>
                    <tr>
                        <th>M</th>
                        <th>T</th>
                        <th>W</th>
                        <th>T</th>
                        <th>F</th>
                        <th>S</th>
                        <th>S</th>
                    </tr>
                    <tr>
                        <td><span>1</span></td>
                        <td><span>2</span></td>
                        <td><span>3</span></td>
                        <td><span>4</span></td>
                        <td><span>5</span></td>
                        <td><span>6</span></td>
                        <td><span>7</span></td>
                    </tr>
                    <tr>
                        <td><span>8</span></td>
                        <td><span>9</span></td>
                        <td><span>10</span></td>
                        <td><span>11</span></td>
                        <td><span>12</span></td>
                        <td><span>13</span></td>
                        <td><span>14</span></td>
                    </tr>
                    <tr>
                        <td><span>15</span></td>
                        <td><span>16</span></td>
                        <td><span>17</span></td>
                        <td><span>18</span></td>
                        <td><span>19</span></td>
                        <td><span>20</span></td>
                        <td><span>21</span></td>
                    </tr>
                    <tr>
                        <td><span>22</span></td>
                        <td><span>23</span></td>
                        <td><span>24</span></td>
                        <td><span>25</span></td>
                        <td><span>26</span></td>
                        <td><span>27</span></td>
                        <td><span>28</span></td>
                    </tr>
                    <tr>
                        <td><span>29</span></td>
                        <td><span>30</span></td>
                    </tr>
                </table>
            </div>
        </section>

        <!--Buttons for new goals and making challenges.-->
        <section id="buttons">
            <button type="button" onclick="summonGoal()"><b>New Goal</b></button>
            <button><b>Issue a Challenge</b></button>
        </section>

        <!-- Make goal interface -->
        <section hidden id="make_goal">
            <fieldset>
                <textarea id="goalDescrip" required="required"></textarea>
                <input id="dateStartInput" type="date" required="required">
                <input id="dateEndInput" type="date" required="required">
                <input id="amountInput" type="number" required="required" value="0">
                <input id="amountGoalInput" type="number" required="required" value="1">
            </fieldset>
            <button id="saveGoal" type="submit" class="btn btn-info" onclick="makeGoal()">Create</button>
            <button id="cancelGoal" type="button" class="btn btn-secondary" onclick="dismissGoal()">Close</button>
        </section>

        <!--User goals section. Contains goal widget.-->
        <section id="user_goals" class="bg-darker rounded py-3 my-2 text-light">
            <h2>Goals</h2>
            <div role="group" id="goal_container"></div>
        </section>

        <!-- Feed section. -->
        <section id="feed" class="bg-darker rounded py-3 my-2 text-light">
            <h2>Feed</h2>
            <ol role="group" id="feed_entries">
                <li><h3>Nov 22</h3></li>
                <li>test2</li>
                <li>test3</li>
            </ol>
        </section>
    </main>

    <!--Footer-->
    <footer class="sticky py-2 text-light">
        <div role="group" class="meta-icon-container">
            <div class="footer-icon-container" role="group">
                <a href="profile.html">
                    <img src="icons/user.svg#icon">
                </a>
                <!-- <span class="label">Profile</span> -->
            </div>
            <div> </div>
            <div class="footer-icon-container" role="group">
                <a href="calendar.html">
                    <img src="icons/calendar.svg#icon">
                </a>
                <!-- <span class="label">Calendar</span> -->
            </div>
        </div>
    </footer>

    <!--Scripts-->
    <script src="scripts/profile.js"></script>

</body>

</html>