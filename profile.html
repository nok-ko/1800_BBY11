<!doctype html>
<html lang="en">

<head>
    <title>User Profile</title>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.0.0/firebase-ui-auth.css" />
    <script src="scripts/firebase_API.js"></script>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF" crossorigin="anonymous">

    <!-- Local styles -->
    <link rel="stylesheet" href="styles/common_styles.css">
    <link rel="stylesheet" href="styles/profile_styles.css">
</head>

<body>
    <main id="wrapper">
        <!--User image, name, edit info button.-->
        <div id="user_pic_block" class="bg-white rounded">
            <div id="pic-and-name">
                <img class="img-avatar img-thumbnail" src="./images/dad.png" alt="Profile Picture">
                <div>
                    <fieldset id="nameField" disabled>
                        <input hidden id="nameInput" type="text" class="form-control">
                        <h1 class="h3" id="nameText">User</h1>
                    </fieldset>
                    <h4 id="emailText">Email</h4>
                </div>
            </div>
            <div id="prof-button">
                <button type="button" id="editProfile" class="btn btn-secondary btn-subdued"
                    onclick="editProfile()">Edit</button>
                <button hidden type="button" id="saveProfile" class="btn btn-info" onclick="saveProfile()">Save</button>
            </div>
        </div>

        <!--Bio div.-->
        <div id="bio" class="bg-white rounded p-3 my-2">
            <h1 class="h3">User Bio</h1>
            <fieldset id="bioField" disabled>
                <textarea hidden id="bioInput" class="form-control"></textarea>
                <p id="bioText"></p>
            </fieldset>
            <div class="d-flex justify-content-end mt-3">
                <button type="button" id="editBio" class="btn btn-secondary btn-subdued"
                    onclick="editBio()">Edit</button>
                <button hidden id="saveBio" type="button" class="btn btn-info" onclick="saveBio()">Save</button>
            </div>
        </div>

        <!--Buttons for new goals and making challenges.-->
        <div id="new_goal_button">
            <button type="button" class="btn btn-info" onclick="summonMakeGoal()"><b>New Goal</b></button>
        </div>

        <!-- Make goal interface -->
        <div id="make_goal" class="shrink">
            <div id="warning" class="alert"  onclick="this.style.display='none';">
                <span class="closebtn">&times;</span>
                There must be inputs in each field to create a goal.
            </div>
            <form>
                <textarea id="goalDescrip"
                    placeholder="Add a description of your goal. For example: &quot;I will do 20 pushups.&quot;"></textarea>
                <label id="dateStartLabel" for="dateStartInput">Start date:</label>
                <input id="dateStartInput" type="date">
                <label id="dateEndLabel" for="dateEndInput">End date:</label>
                <input id="dateEndInput" type="date">
                <label id="amountGoalLabel" for="amountGoalInput">Goal amount:</label>
                <input id="amountGoalInput" type="number" value="0">
                <button id="saveGoal" type="button" class="btn btn-info" onclick="makeGoal()">Create</button>
                <button id="cancelGoal" type="button" class="btn btn-secondary"
                    onclick="dismissMakeGoal()">Close</button>
            </form>
        </div>

        <!--User goals div. Contains goal widget.-->
        <div id="user_goals" class="bg-white rounded py-3 my-2 ">
            <h2>Goals</h2>
            <div role="group" id="goal_container"></div>
        </div>

        <!-- Feed div. WIP -->
        <!-- <div id="feed" class="bg-white rounded py-3 my-2 ">
            <h2>Feed</h2>
            <ol role="group" id="feed_entries"></ol>
        </div> -->
    </main>

    <!--Footer-->
    <footer class="sticky">
        <div role="group" class="meta-icon-container">
            <a href="profile.html" id="footer-profile" class="footer-icon-container">
                <img src="icons/user.svg#icon" alt="user-svg">
            </a>
            <a href="calendar.html" id="footer-calendar" class="footer-icon-container">
                <img src="icons/calendar.svg#icon" alt="calendar-svg">
            </a>
        </div>
    </footer>

    <!--Scripts-->
    <script src="scripts/profile.js"></script>

</body>

</html>